model Supplier {
  id       String @id @default(uuid())
  tenantId String
  tenant   Tenant @relation(fields: [tenantId], references: [id])

  name          String
  corporateName String?
  document      String
  email         String?
  phone         String?
  website       String?

  zipCode      String?
  street       String?
  number       String?
  complement   String?
  neighborhood String?
  city         String?
  state        String?
  ibgeCode     String?

  productLinks ProductSupplier[]

  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([tenantId, document])
  @@map("suppliers")
}

// Tabela Pivô Rica (Amarração Produto <-> Fornecedor)
model ProductSupplier {
  id       String @id @default(uuid())
  tenantId String
  tenant   Tenant @relation(fields: [tenantId], references: [id])

  productId String  @unique
  product   Product @relation(fields: [productId], references: [id], onDelete: Cascade)

  supplierId String
  supplier   Supplier @relation(fields: [supplierId], references: [id], onDelete: Cascade)

  supplierProductCode String?
  lastPrice           Decimal? @db.Decimal(10, 4)
  leadTimeDays        Int?

  updatedAt DateTime @updatedAt

  @@map("product_suppliers")
}
