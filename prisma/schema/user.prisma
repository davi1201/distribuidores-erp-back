model User {
  id       String  @id @default(uuid())
  name     String
  email    String  @unique
  password String? // Opcional agora (por causa do Google Auth)
  role     Role    @default(ADMIN)
  phone    String? // Adicionado: Contato do usuário

  // Google Auth
  googleId  String? @unique
  avatarUrl String?

  isActive Boolean @default(true) // Adicionado: Controle de acesso (soft ban)

  tenantId String?
  tenant   Tenant? @relation(fields: [tenantId], references: [id], onDelete: SetNull)

  // Rastreabilidade
  auditLogs AuditLog[]

  // Vendas (Se este usuário for um vendedor)
  customers Customer[] // Carteira de clientes deste usuário

  permissions String[] @default([])

  createdAt           DateTime              @default(now())
  updatedAt           DateTime              @updatedAt
  ProductPriceHistory ProductPriceHistory[]
  StockMovement       StockMovement[]
  FinancialMovement   FinancialMovement[]
  Warehouse           Warehouse[]

  @@map("users")
}

enum Role {
  SUPER_ADMIN
  OWNER
  ADMIN
  SELLER
  SUPPORT
}
